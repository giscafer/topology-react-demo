(self.webpackChunkrh_template_umi=self.webpackChunkrh_template_umi||[]).push([[531],{30985:function(y){y.exports={footer:"footer___EYp7z"}},68408:function(y){y.exports={container:"container___1sYa-",bg:"bg___2A28Q",imgWrapper:"imgWrapper___1fM-J",header:"header___5xZ3f",left:"left___2D-Sr",right:"right___27Q9W",title:"title___1-xuF",content:"content___2zk1-",main:"main___x4OjT",loginTitle:"loginTitle___2Y8Cs"}},84709:function(y,B,e){"use strict";e.r(B),e.d(B,{default:function(){return _}});var se=e(77111),M=e(49194),A=e(52663),F=e(68699),D=e(44742),ie=e(12966),Q=e(43732),W=e(94043),f=e.n(W),Y=e(56858),b=e(30985),O=e.n(b),t=e(85893),z=function(){return(0,t.jsxs)("div",{"data-inspector-line":"6","data-inspector-column":"4","data-inspector-relative-path":"src/components/Footer/index.tsx",className:O().footer,children:[(0,t.jsxs)("div",{"data-inspector-line":"7","data-inspector-column":"6","data-inspector-relative-path":"src/components/Footer/index.tsx",children:["Copyright ",(0,t.jsx)(Y.Z,{"data-inspector-line":"8","data-inspector-column":"18","data-inspector-relative-path":"src/components/Footer/index.tsx"})," 2018-2021 RootHub. All rights reserved. RootHub \u7248\u6743\u6240\u6709"]}),(0,t.jsx)("div",{"data-inspector-line":"11","data-inspector-column":"6","data-inspector-relative-path":"src/components/Footer/index.tsx",children:"\u7CA4ICP\u59071000xxx72\u53F7-1\u53F7-1"})]})},T=e(25471),U=e(43542),K=e(90933),oe=e(9948),ue=function(n){return urlReg.test(n)},le=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,p=arguments.length>2?arguments[2]:void 0,s=n[r],g=n[p],d=[];return n.forEach(function(x,m){m===r?d.push(g):m===p?d.push(s):d.push(x)}),d},ce=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(r){setTimeout(function(){r(!0)},n)})},G=function(){return window.location.hostname==="preview.pro.ant.design"},de=function(){var n="production";return n==="development"?!0:G()},R=function(n){return[void 0,null,""].includes(n)},pe=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,p=arguments.length>2?arguments[2]:void 0,s="",g=p||{},d=g.unit,x=g.array,m=g.maxLength,L=g.fillString;if(R(n)||(s=Number.isNaN(Number(n))?"":Number(n).toString(r)),m&&(s=s.padStart(m,L)),x)return s.split("");if(d&&s){if(r===16)return"0x".concat(s);if(r===2)return"0b".concat(s)}return s},$="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCW3fQpZiXmj7+OnwtvtxYA353AEqW9LA2TvCqWNNdMRtaEIgbmV6qYQE+Osy/M0J+tdRwazA4DWKt8qPkcKUKPynMiTWIGePMHj8J6DCnqP2zmOo5QRQN2YMVLC0cA2bOiZt84Loc+sYctTZAdWKukf1+SzZe+aYS/Snw73mxA7QIDAQAB",w=new K.Z({});w.setPublicKey($);var H=w,ge=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-MM-DD HH:mm:ss";return n?dayjs(n).format(r):""},J=e(82241),I=e(62925),N=e(67294),h=e(40527),C=e(87748),V=e(40999),X=e(68408),i=e.n(X),k=function(n){var r=n.content;return(0,t.jsx)(Q.Z,{"data-inspector-line":"21","data-inspector-column":"2","data-inspector-relative-path":"src/pages/user/Login/index.tsx",style:{marginBottom:24},message:r,type:"error",showIcon:!0})},P=function(){!h.m8||setTimeout(function(){var n=h.m8.location.query,r=n,p=r.redirect;h.m8.push(p||"/")},10)},q=function(){var n,r,p=(0,N.useState)(!1),s=(0,D.Z)(p,2),g=s[0],d=s[1],x=(0,N.useState)({}),m=(0,D.Z)(x,2),L=m[0],Z=m[1],ee=(0,h.tT)("base.user"),te=ee.userLogin,E=(0,h.tT)("@@initialState"),j=E.initialState,ne=E.setInitialState;(0,N.useEffect)(function(){var c,o=((c=window)===null||c===void 0?void 0:c.localStorage.getItem(U.b))||V.t[0];window.less.modifyVars({"primary-color":o})},[]);var ae=function(){var c=(0,F.Z)(f().mark(function o(){var u,v;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j==null||(u=j.fetchUserInfo)===null||u===void 0?void 0:u.call(j);case 2:v=a.sent,v&&ne((0,A.Z)((0,A.Z)({},j),{},{currentUser:v}));case 4:case"end":return a.stop()}},o)}));return function(){return c.apply(this,arguments)}}(),re=function(){var c=(0,F.Z)(f().mark(function o(u){var v;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d(!0),a.prev=1,a.next=4,te((0,A.Z)((0,A.Z)({},u),{},{password:H.encrypt(u.password)||""}));case 4:return v=a.sent,(0,T.$e)(v),Z({status:"success",msg:""}),a.next=9,ae();case 9:P(),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),Z({status:"fail",msg:(a.t0===null||a.t0===void 0?void 0:a.t0.message)||""});case 15:d(!1),(0,T.$e)({expireTime:3471264e6,firstLogin:!0,token:"eyJ0eXAiOiJKV1QiLCJhbGc"}),Z({status:"success",msg:""}),P();case 19:case"end":return a.stop()}},o,null,[[1,12]])}));return function(u){return c.apply(this,arguments)}}();return(0,t.jsxs)("div",{"data-inspector-line":"104","data-inspector-column":"4","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().container,children:[(0,t.jsxs)("div",{"data-inspector-line":"105","data-inspector-column":"6","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().header,children:[(0,t.jsx)("div",{"data-inspector-line":"106","data-inspector-column":"8","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().left,children:(0,t.jsxs)(C.Link,{"data-inspector-line":"107","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",to:"/",children:[(0,t.jsx)("img",{"data-inspector-line":"108","data-inspector-column":"12","data-inspector-relative-path":"src/pages/user/Login/index.tsx",alt:"logo",className:i().logo,src:"".concat((n=window)===null||n===void 0?void 0:n.routerBase,"/logo.svg"),width:32}),(0,t.jsx)(M.Z,{"data-inspector-line":"114","data-inspector-column":"12","data-inspector-relative-path":"src/pages/user/Login/index.tsx",type:"vertical"}),(0,t.jsx)("span",{"data-inspector-line":"115","data-inspector-column":"12","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().title,children:"RootHub Scaffold"})]})}),(0,t.jsxs)("div",{"data-inspector-line":"118","data-inspector-column":"8","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().right,children:[(0,t.jsx)(C.Link,{"data-inspector-line":"119","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",to:"/",children:"\u6CE8\u518C\u8D26\u53F7"}),(0,t.jsx)(C.Link,{"data-inspector-line":"120","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",to:"/",children:"\u5E2E\u52A9\u4E2D\u5FC3"})]})]}),(0,t.jsxs)("div",{"data-inspector-line":"123","data-inspector-column":"6","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().content,children:[(0,t.jsx)("div",{"data-inspector-line":"124","data-inspector-column":"8","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().imgWrapper,children:(0,t.jsx)("img",{"data-inspector-line":"125","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",alt:"logo",className:i().bg,src:"".concat((r=window)===null||r===void 0?void 0:r.routerBase,"/bgimg.png")})}),(0,t.jsxs)("div",{"data-inspector-line":"131","data-inspector-column":"8","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().main,children:[(0,t.jsx)("div",{"data-inspector-line":"132","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",className:i().loginTitle,children:"\u8D26\u53F7\u767B\u5F55"}),(0,t.jsxs)(J.ZP,{"data-inspector-line":"133","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",onFinish:function(){var c=(0,F.Z)(f().mark(function o(u){return f().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:re(u);case 1:case"end":return S.stop()}},o)}));return function(o){return c.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"\u767B \u5F55"},render:function(o,u){return u.pop()},submitButtonProps:{loading:g,size:"large",style:{width:"100%",fontSize:"14px"}}},children:[L.status==="fail"&&L.msg!==void 0&&(0,t.jsx)(k,{"data-inspector-line":"154","data-inspector-column":"16","data-inspector-relative-path":"src/pages/user/Login/index.tsx",content:L.msg}),(0,t.jsx)(I.Z,{"data-inspector-line":"156","data-inspector-column":"12","data-inspector-relative-path":"src/pages/user/Login/index.tsx",name:"mobile",label:"\u624B\u673A\u53F7\u7801",fieldProps:{size:"large",maxLength:11},placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801(\u968F\u610F\u624B\u673A)",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"},{pattern:/^1[3-9]\d{9}$/,message:"\u4E0D\u5408\u6CD5\u7684\u624B\u673A\u53F7\u683C\u5F0F!"}]}),(0,t.jsx)(I.Z.Password,{"data-inspector-line":"175","data-inspector-column":"12","data-inspector-relative-path":"src/pages/user/Login/index.tsx",label:"\u5BC6\u7801",name:"password",fieldProps:{size:"large"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801(\u968F\u610F)"})]}),(0,t.jsx)("a",{"data-inspector-line":"190","data-inspector-column":"10","data-inspector-relative-path":"src/pages/user/Login/index.tsx",style:{float:"right",marginTop:"12px",fontSize:"12px"},children:"\u5FD8\u8BB0\u5BC6\u7801"})]})]}),(0,t.jsx)(z,{"data-inspector-line":"201","data-inspector-column":"6","data-inspector-relative-path":"src/pages/user/Login/index.tsx"})]})},_=q}}]);
