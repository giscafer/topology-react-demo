(self.webpackChunkrh_template_umi=self.webpackChunkrh_template_umi||[]).push([[678],{66157:function(){},51399:function(){},2171:function(P,u,t){"use strict";t.r(u);var h=t(86907),f=t(25281),g=t(13753),v=t(48429),p=t(67294),E=t(5646),c=t(9058),y=t(96486),B=t.n(y),o=t(85893),e,s=0,i=0,l=0,C={rotateCursor:"/rotate.cur",bkColor:"#f6f6f6"},D=function(O){var r=O.history,m=function(){(0,E.iZ)("activityFinal",c.$E,y.noop,c.zR,c.bs)};(0,p.useEffect)(function(){e=new E.d3("topology-canvas-preview",C),r.location.state.data.locked=1,e.open(r.location.state.data),m()},[r.location.state.data]),(0,p.useEffect)(function(){var a=e.data.pens.find(function(d){return d.data&&d.data.car===1}),n=e.data.pens.find(function(d){return d.type===1})||{},_=setInterval(function(){l<360&&(l+=.5),l>180?(n.strokeStyle="red",n.lineWidth=2):(n.strokeStyle="green",n.lineWidth=1),l>350&&(a.rotate=180,clearInterval(_)),a.rect.x=625+s,a.rect.y=541-l+i,e.updateProps(!0,[a]),e.render()},30);return function(){return clearInterval(_)}},[r]);var x=function(){var n=e.getRect();n.calcCenter(),s=document.body.clientWidth/2-n.center.x,i=(document.body.clientHeight-66)/2-n.center.y,e.translate(s,i)},M=function(){e.translate(-s,-i),s=0,i=0};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,{"data-inspector-line":"95","data-inspector-column":"6","data-inspector-relative-path":"src/pages/topology/Preview/index.tsx",style:{border:"1px solid rgb(235, 237, 240)"},extra:[(0,o.jsx)(v.Z,{"data-inspector-line":"100","data-inspector-column":"10","data-inspector-relative-path":"src/pages/topology/Preview/index.tsx",type:"primary",onClick:function(){return x()},children:"\u81EA\u52A8\u9002\u5E94\u7A97\u53E3\u5927\u5C0F"},"2"),(0,o.jsx)(v.Z,{"data-inspector-line":"103","data-inspector-column":"10","data-inspector-relative-path":"src/pages/topology/Preview/index.tsx",onClick:function(){return M()},children:"\u5B9E\u9645\u5927\u5C0F"},"1")],onBack:function(){return r.push({pathname:"/",state:{data:r.location.state.data,from:"/topology/preview"}})},title:"\u8FD4\u56DE\u753B\u677F",subTitle:"\u9884\u89C8"}),(0,o.jsx)("div",{"data-inspector-line":"119","data-inspector-column":"6","data-inspector-relative-path":"src/pages/topology/Preview/index.tsx",id:"topology-canvas-preview",style:{height:"calc(100vh - 66px)",width:"100vw"}})]})};u.default=D},86907:function(P,u,t){"use strict";var h=t(51399),f=t(93666),g=t(66157),v=t(37482),p=t(19597),E=t(90930),c=t(25324)}}]);
